WindowManager:
    canvas.before:
        Color:
            rgba: (240/255, 240/255, 240/255, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    # All the screens
    WelcomeScreen:
    ClientsScreen:
    AddClientScreen:
    EditSelectClientScreen
    EditClientScreen
    EditSelectDogScreen
    EditDogScreen

<DefaultLayout@BoxLayout>:
    padding: '50dp', '50dp', '50dp', '20dp'
    orientation: 'vertical'
    spacing: '30dp'

<TitleLabel@Label>:
    size_hint: 0.8, None
    pos_hint: {"center_x": 0.5}
    height: "70dp"
    font_size: '45dp'
    color: (0,0,0,1)
    pos_hint: {"center_x": 0.5}

<MyButton@Button>:
    size_hint: 0.8, None
    pos_hint: {"center_x": 0.5}
    height: "60dp"

<LineTextInput@TextInput>
    multiline: False
    font_size: '25dp'
    # halign: "center"

<WelcomeScreen>:
    name: "welcomeScreen"

    DefaultLayout:
        TitleLabel:
            text: 'Aplikacja'
        MyButton:
            text: 'Kalendarz'
        MyButton:
            text: 'Klienci'
            on_release:
                app.root.current = "clientsScreen"
                root.manager.transition.direction = "left"
        MyButton:
            text: 'Raport'
        MyButton:
            text: 'Wyjdź'
            on_release:
                app.stop()
        # this widget is used to align buttons to the top of the screen
        Widget:

<ClientsScreen>:
    name: "clientsScreen"
    DefaultLayout:
        TitleLabel:
            text: 'Zarządzanie klientami'
        MyButton:
            text: 'Dodaj'
            on_release:
                app.root.current = "addClientScreen"
                root.manager.transition.direction = "left"
        MyButton:
            text: 'Edytuj'
            on_release:
                app.root.current = "editSelectClientScreen"
                root.manager.transition.direction = "left"
        MyButton:
            text: 'Wróć'
            on_release:
                app.root.current = "welcomeScreen"
                root.manager.transition.direction = "right"
        # this widget is used to align buttons to the top of the screen
        Widget:

<AddClientScreen>:
    name: "addClientScreen"
    DefaultLayout:
        TitleLabel:
            text: 'Dodawanie klienta'
        GridLayout:
            cols: 2
            row_default_height: '40dp'
            row_force_default: True
            spacing: 0, '30dp'
            size_hint: 1, None
            height: self.minimum_height
            pos_hint: { "center_x": 0.5}
            Label:
                text: 'tel: '
                size_hint: None, 1
                width: '80dp'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_phone_number
            Label:
                text: 'imię: '
                size_hint: None, 1
                width: '80dp'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_first_name
            Label:
                text: 'nazwisko: '
                size_hint: None, 1
                width: '80dp'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_last_name
        BoxLayout:
            orientation: 'horizontal'
            padding: 0, '20dp', 0, 0
            spacing: '15dp'
            size_hint: 1, None
            height: '60dp'
            Button:
                text: 'Dodaj'
                on_release:
                    root.on_add_button_click()
            Button:
                text: 'Anuluj'
                on_release:
                    app.root.current = "clientsScreen"
                    root.manager.transition.direction = "right"
        # this widget is used to align buttons to the top of the screen
        Widget:
    Label:
        canvas.before:
            Color:
                rgba: (191/255, 64/255, 191/255, 1)
            Rectangle:
                pos: self.pos
                size: self.size
        text: 'OK'
        size_hint: 1, None
        height: '25dp'
        color: (1, 1, 1, 1)
        pos_hint: {"y": 0}

<EditSelectClientScreen>:
    name: "editSelectClientScreen"
    DefaultLayout:
        TitleLabel:
            text: 'Edytowanie klienta'
        GridLayout:
            rows: 2
            orientation: 'tb-lr'
            row_default_height: '30dp'
            row_force_default: True
            spacing: '30dp', '0dp'
            size_hint: 1, None
            height: self.minimum_height
            pos_hint: { "center_x": 0.5}
            Label:
                text: 'tel.'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_phone_number
                font_size: '15dp'
                on_text:
                    root.phone_number = self.text
                    root.update_data()
            Label:
                text: 'imię'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_first_name
                font_size: '15dp'
                on_text:
                    root.first_name = self.text
                    root.update_data()
            Label:
                text: 'nazwisko'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_last_name
                font_size: '15dp'
                on_text:
                    root.last_name = self.text
                    root.update_data()
        ClientsDataTable:
            root: root
            id: clientsDataTable
        BoxLayout:
            orientation: 'horizontal'
            padding: 0, '20dp', 0, 0
            spacing: '15dp'
            size_hint: 1, None
            height: '60dp'
            Button:
                id: button_edit
                text: 'Edytuj'
                disabled:
                    not root.is_row_selected
                on_release:
                    app.root.current = "editClientScreen"
                    root.manager.transition.direction = "left"
            Button:
                text: 'Anuluj'
                on_release:
                    app.root.current = "clientsScreen"
                    root.manager.transition.direction = "right"

<EditClientScreen>:
    name: "editClientScreen"
    DefaultLayout:
        TitleLabel:
            text: 'Edytowanie klienta'
        GridLayout:
            cols: 2
            row_default_height: '40dp'
            row_force_default: True
            spacing: 0, '30dp'
            size_hint: 1, None
            height: self.minimum_height
            pos_hint: { "center_x": 0.5}
            Label:
                text: 'tel: '
                size_hint: None, 1
                width: '80dp'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_phone_number
            Label:
                text: 'imię: '
                size_hint: None, 1
                width: '80dp'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_first_name
            Label:
                text: 'nazwisko: '
                size_hint: None, 1
                width: '80dp'
                color: (0,0,0,1)
            LineTextInput:
                id: txt_input_last_name
        Button:
            size_hint: 1, None
            height: '40dp'
            text:
                'Edytuj psy'
            on_release:
                app.root.current = "editSelectDogScreen"
                root.manager.transition.direction = "left"
        BoxLayout:
            orientation: 'horizontal'
            padding: 0, '20dp', 0, 0
            spacing: '15dp'
            size_hint: 1, None
            height: '60dp'
            Button:
                text: 'Zapisz'
                on_release:
                    root.on_save_button_click()
            Button:
                text: 'Anuluj'
                on_release:
                    app.root.current = "editSelectClientScreen"
                    root.manager.transition.direction = "right"
        # this widget is used to align buttons to the top of the screen
        Widget:

<EditSelectDogScreen>
    name: "editSelectDogScreen"
    DefaultLayout:
        TitleLabel:
            text: 'Edytowanie psów'
        DogsDataTable:
            root: root
            id: dogsDataTable
        BoxLayout:
            orientation: 'horizontal'
            padding: 0, '20dp', 0, 0
            spacing: '15dp'
            size_hint: 1, None
            height: '60dp'
            Button:
                id: button_edit
                text: 'Edytuj'
                disabled:
                    not root.is_row_selected
                on_release:
                    print(root.dog_selected)
                    app.root.current = "editDogScreen"
                    root.manager.transition.direction = "left"
            Button:
                text: 'Anuluj'
                on_release:
                    app.root.current = "editClientScreen"
                    root.manager.transition.direction = "right"

<EditDogScreen>
    name: "editDogScreen"